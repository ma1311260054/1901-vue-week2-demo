<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>Title</title>
</head>
<body>


<script src="node_modules/axios/dist/axios.js"></script>
<script>
    (function(){

       function getData() {

           fetch("http://localhost:3001/getusers")
               .then(response=>{
                   response.json().then(data=>{
                       console.log(data)
                   })
               })
       }

        function postData() {
           fetch("http://localhost:3001/user/add",{
               method:"POST",
               headers:{
                   "Content-Type":"application/json"
               },
               body:JSON.stringify({
                   name:"王五",
                   age:20
               })
           }).then(res=>{
               res.json().then(data=>{
                   console.log(data)
               })
           })
        }


        // SOAP XML

        function updateUser() {
            fetch("http://localhost:3001/user/update",{
                method:"put",
                headers:{
                    "Content-Type":"application/json"
                },
                body:JSON.stringify({
                    id:1
                })
            }).then(res=>{
                res.json().then(data=>{
                    console.log(data)
                })
            })
        }


        function getUserByAxios() {
            axios.get("http://localhost:3001/users/get")
                .then(res=>{
                    console.log(res)
                })
        }

        function postUserByAxios() {
            axios.post("http://localhost:3001/user/add",{
                name:"lisi",
                age:29
            }).then(res=>{
                console.log(res)
            })
        }

        postUserByAxios()

    })()
</script>
</body>
</html>
